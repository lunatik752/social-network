{"version":3,"sources":["common/FormsControl/FormsControl.js","api/api.ts","assets/image/user.png","redux/dialogsReduсer.ts","redux/usersReduсer.ts","redux/photosReduсer.ts","components/Profile/PersonalInfo/ProfileStatus.module.css","components/Profile/Avatar/Avatar.module.css","components/Profile/MyPosts/Post/Post.module.css","common/Loading/Loading.module.css","assets/gif/35.gif","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.tsx","components/Settings/Settings.tsx","components/Profile/PersonalInfo/ProfileStatusWithHooks.tsx","components/Profile/PersonalInfo/ProfileDataForm.tsx","components/Profile/PersonalInfo/PersonalInfo.tsx","components/Profile/Avatar/Avatar.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","redux/profileReduсer.ts","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReduсer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/appReduсer.ts","hoc/withSuspense.js","Main.jsx","redux/sidebarReduсer.ts","redux/redux-store.ts","App.jsx","index.jsx","common/FormsControl/FormsControl.module.css","utils/validators/validators.js","components/Profile/PersonalInfo/PersonalInfo.module.css","redux/loadingReducer.ts","components/Profile/Profile.module.css","common/Loading/Loading.jsx","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css"],"names":["FormControl","input","meta","touched","error","children","hasError","classForTextarea","styles","formControl","className","Textarea","props","restProps","child","Input","createField","placeholder","name","component","validate","text","ResultCodeEnum","ResultCodeForCaptchaEnum","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unFollowUser","userId","delete","followUser","post","getProfile","console","warn","profileAPI","res","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","module","exports","ADD_MESSAGE","initialState","dialogs","id","messages","message","addMessage","newMessageBody","type","dialogsReducer","state","action","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USER_COUNT","users","totalUsersCount","followingInProgress","followSuccess","unFollowSuccess","toggleFollowingProgress","isFetching","requestUsers","page","dispatch","a","setLoading","items","totalCount","_followUnfollowFlow","apiMethod","actionCreator","resultCode","unFollow","bind","follow","usersReducer","map","user","followed","filter","photos","urlPhoto","title","comments","comment","newCommentText","addComment","updateNewCommentText","newText","photosReducer","Boolean","window","location","hostname","match","Navbar","s","nav","item","to","activeClassName","active","Settings","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","statusWrapper","onDoubleClick","onBlur","autoFocus","value","onChange","e","currentTarget","ProfileDataReduxForm","reduxForm","form","handleSubmit","onSubmit","style","formSummeryControl","Object","keys","contacts","key","contact","Contact","contactTitle","contactValue","ProfileData","isOwner","goToEditMode","profileData","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","PersonalInfo","personalInfo","initialValues","Avatar","avatar","src","large","userPhoto","alt","target","files","log","length","Post","countLikes","MyPosts","React","memo","postsElements","posts","p","addNewPost","useCallback","values","addPost","newPost","myPosts","AddPostReduxForm","maxLength10","maxLengthCreator","Field","required","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","newPostText","profileReducer","postId","getUserProfile","MyPostsContainer","connect","profilePage","Profile","profileWrapper","Loading","ProfileContainer","this","params","authorizedUserId","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","alert","getState","stopSubmit","_error","Promise","reject","withRouter","Header","header","loginBlock","SET_USER_DATA","captchaUrl","getCaptchaUrlSuccess","payload","setAuthUserData","getAuthUserData","Success","url","authReducer","HeaderContainer","LoginReduxForm","CaptchaIsRequired","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","fallback","DialogsContainer","lazy","UsersContainer","PhotosContainer","News","Music","Main","catchAllUnhandledErrors","promiseRejectionEvent","initializeApp","addEventListener","removeEventListener","exact","path","render","app","promise","all","sidebarReducer","rootReducers","combineReducers","dialogsPage","sidebar","usersPage","photosPage","loading","loadingReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","maxLength","SET_LOADING","isLoading","loader","gif"],"mappings":"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","file":"static/js/main.4a2e0223.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    const classForTextarea = styles.formControl + ' ' + (hasError ? styles.error : '')\r\n\r\n    return (\r\n        <div className={classForTextarea}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validate, props = {}, text = '') => (\r\n    <div>\r\n    <Field placeholder={placeholder}\r\n           name={name}\r\n           component={component}\r\n           validate={validate}\r\n        {...props}/>{text}\r\n</div>)\r\n","import axios from \"axios\";\r\nimport {ProfileType} from \"../types/types\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '90bf912e-ca5a-4b96-9037-858f400fe7a5'},\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    unFollowUser(userId: number) {\r\n         return instance.delete(`follow/${userId}`\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    followUser(userId: number) {\r\n        return instance.post(`follow/${userId}`, {}\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getProfile(userId: number) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId).then(res => res.data)\r\n    },\r\n}\r\n\r\nexport enum ResultCodeEnum  {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchaIsRequired = 10\r\n}\r\nexport enum ResultCodeForCaptchaEnum  {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\ntype AuthResponseDataType<T, D> = {\r\n    data: T\r\n    resultCode: ResultCodeEnum | D\r\n    messages: Array<string>\r\n}\r\n\r\ntype MeParamsType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha?: string\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<AuthResponseDataType<MeParamsType, {}>>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<AuthResponseDataType<LoginParamsType, ResultCodeForCaptchaEnum>>(`auth/login`, {email, password, rememberMe, captcha}).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete<AuthResponseDataType<{}, {}>>(`auth/login`);\r\n    },\r\n}\r\n\r\n\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<{url: string}>(`/security/get-captcha-url`,)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto(file: any) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", file);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n                return response.data;\r\n            }\r\n        )\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n","module.exports = \"data:image/png;base64,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\"","import {DialogType, MessageType} from \"../types/types\";\r\n\r\nconst ADD_MESSAGE = 'social-network/dialogs/ADD-MESSAGE';\r\n\r\n\r\n\r\nconst initialState = {\r\n        dialogs: [\r\n            {name: 'Maks', id: 1},\r\n            {name: 'Aleks', id: 2},\r\n            {name: 'Kna', id: 3},\r\n            {name: 'Andy', id: 4}\r\n        ] as Array<DialogType>,\r\n        messages: [\r\n            {message: 'Hello!', id: 1},\r\n            {message: 'How are you? What are you doing?!', id: 2},\r\n            {message: 'Come with me.', id: 3},\r\n        ] as Array<MessageType>,\r\n};\r\n\r\nexport type DialogReducerInitialStateType = typeof initialState\r\n\r\nconst dialogsReducer = (state = initialState, action: DialogReducerActionType): DialogReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {message: action.newMessageBody, id: 4}],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype DialogReducerActionType = ReturnType<typeof addMessage>\r\n\r\nexport const addMessage = (newMessageBody: string) => (\r\n    {\r\n        type: ADD_MESSAGE,\r\n        newMessageBody\r\n    } as const);\r\n\r\n\r\nexport default dialogsReducer;\r\n","import {usersAPI} from \"../api/api\";\r\nimport {UserType} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport { setLoading, LoadingReducerActionsType } from \"./loadingReducer\";\r\n\r\nconst FOLLOW = 'social-network/users/FOLLOW';\r\nconst UNFOLLOW = 'social-network/users/UNFOLLOW';\r\nconst SET_USERS = 'social-network/users/';\r\nconst SET_CURRENT_PAGE = 'social-network/users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USER_COUNT = 'social-network/users/SET_TOTAL_USER_COUNT';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    followingInProgress: [] as Array<number> // Array of users id\r\n};\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst usersReducer = (state = initialState, action: UsersReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true};\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false};\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case  SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USER_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype UsersReducerActionsType = ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unFollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n\r\nconst followSuccess = (userId: number) => ({type: FOLLOW, userId} as const);\r\nconst unFollowSuccess = (userId: number) => ({type: UNFOLLOW, userId} as const);\r\nconst setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const);\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const);\r\nconst setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USER_COUNT, totalUsersCount} as const);\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n} as const);\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppRootStateType, {}, ThunkActionType>\r\ntype ThunkActionType = UsersReducerActionsType | LoadingReducerActionsType\r\n\r\n// Thunk(санка) для загрузки страниц пользователей\r\nexport const requestUsers = (page: number, pageSize: number): ThunkType => async (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    dispatch(setCurrentPage(page))\r\n    let response = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(setLoading(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<UsersReducerActionsType>, userId: number, apiMethod: any, actionCreator: (userId: number) => ReturnType<typeof followSuccess> | ReturnType<typeof unFollowSuccess>) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\n// Thunk(санка) для  unfollow\r\nexport const unFollow = (userId: number): ThunkType => async (dispatch) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.unFollowUser.bind(usersAPI), unFollowSuccess);\r\n}\r\n\r\n// Thunk(санка) для  follow\r\nexport const follow = (userId: number): ThunkType => async (dispatch: any) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess);\r\n}\r\n\r\nexport default usersReducer;\r\n","import { PhotosType } from \"../types/types\";\r\n\r\nconst ADD_COMMENT = 'social-network/photos/ADD_COMMENT';\r\nconst UPDATE_NEW_COMMENT_TEXT = 'social-network/photos/UPDATE_NEW_COMMENT_TEXT'\r\n\r\n\r\nlet initialState = {\r\n    photos:\r\n        [\r\n            {\r\n                id: 1,\r\n                urlPhoto: 'https://sun9-5.userapi.com/c598/u28496219/114838671/x_c7cb1d16.jpg',\r\n                title: 'asdf',\r\n                comments: [\r\n                    {id: 1, comment: 'nice photo'},\r\n                    {id: 2, comment: 'very nice photo'},\r\n                ],\r\n            }] as Array<PhotosType>,\r\n    newCommentText: ''\r\n}\r\n\r\ntype PhotosReducerInitialStateType = typeof initialState\r\n\r\nconst photosReducer = (state = initialState, action: PhotosReducerActionsType) : PhotosReducerInitialStateType=> {\r\n\r\n\r\n    switch (action.type) {\r\n        case UPDATE_NEW_COMMENT_TEXT:\r\n            return {\r\n                ...state,\r\n                photos: {\r\n                    ...state.photos\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype PhotosReducerActionsType = ReturnType<typeof addComment> | ReturnType<typeof updateNewCommentText>\r\n\r\nexport const addComment = () => ({type: ADD_COMMENT} as const);\r\n\r\nexport const updateNewCommentText = (text: string) =>\r\n    ({type: UPDATE_NEW_COMMENT_TEXT, newText: text} as const);\r\n\r\nexport default photosReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusWrapper\":\"ProfileStatus_statusWrapper__3pCTq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__2TaxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2SZFa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loading_loader__2Q8W4\"};","module.exports = __webpack_public_path__ + \"static/media/35.f611c450.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1IbkZ\",\"item\":\"Navbar_item__2Ek4J\",\"active\":\"Navbar_active__oYiAX\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/photos' activeClassName={s.active}>Photos</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst Settings: React.FC<PropsType> = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;\r\n","import React, {useEffect, useState, ChangeEvent} from 'react';\r\nimport styles from './ProfileStatus.module.css';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState<boolean>(false);\r\n    let [status, setStatus] = useState<string>(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.statusWrapper}>\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || 'edit status'}</span>\r\n            </div>}\r\n            {editMode &&\r\n            <div>\r\n                <input type=\"text\"\r\n                       onBlur={deactivateEditMode}\r\n                       autoFocus={true}\r\n                       value={status}\r\n                       onChange={onStatusChange}/>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../../common/FormsControl/FormsControl\";\r\nimport styles from './PersonalInfo.module.css';\r\nimport {reduxForm} from \"redux-form\";\r\nimport style from \"../../../common/FormsControl/FormsControl.module.css\";\r\nimport {ProfileType} from \"../../../types/types\";\r\n\r\n\r\ntype PropsType = {\r\n    handleSubmit: () => void\r\n    profile: ProfileType\r\n    error: string\r\n}\r\n\r\n\r\nconst ProfileDataForm: React.FC<PropsType> = ({handleSubmit, profile, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <button>Save</button>\r\n            </div>\r\n            {error && <div className={style.formSummeryControl}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Name:</b> {createField('Full name', 'fullName', Input, [])}\r\n                <b>About me:</b>\r\n                {createField('About me', 'aboutMe', Textarea, [])}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Looking for a job:</b>\r\n                {createField('', 'lookingForAJob', Input, [],{type: 'checkbox'})}\r\n            </div>\r\n\r\n            <div>\r\n                <b>My professional skills:</b>\r\n                {createField('My professional skills', 'lookingForAJobDescription', Textarea, [])}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n                return <div className={styles.contact} key={key}>\r\n                    <b>{key}: </b> {createField(key, 'contacts.' + key, Input, [])}\r\n\r\n                </div>\r\n            })}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm<any, any>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm\r\n","import React, {useState} from 'react';\r\nimport styles from './PersonalInfo.module.css';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\n\r\ntype PersonalInfoPropsType = {\r\n    profile: ProfileType\r\n    updateStatus: () => void\r\n    status: string\r\n    isOwner: boolean\r\n    saveProfile: (formData: any) => Promise<any>\r\n}\r\n\r\nconst PersonalInfo: React.FC<PersonalInfoPropsType> = ({profile, updateStatus, status, isOwner, saveProfile}) => {\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n    const goToEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onSubmit = (formData: any) => {\r\n        saveProfile(formData)\r\n            .then(\r\n                () => {\r\n                    setEditMode(false)\r\n                }\r\n            )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.personalInfo}>\r\n            {editMode\r\n                ? <ProfileDataForm profile={profile}\r\n                                   initialValues={profile}\r\n                                   onSubmit={onSubmit}/>\r\n                : <ProfileData profile={profile}\r\n                               isOwner={isOwner}\r\n                               goToEditMode={goToEditMode}\r\n                />}\r\n            <ProfileStatusWithHooks updateStatus={updateStatus}\r\n                                    status={status}/>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: ContactsType\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div>\r\n            <b>{contactTitle}: </b>{contactValue}\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n\r\n        <div className={styles.profileData}>\r\n            {isOwner && <div>\r\n                <button onClick={goToEditMode}>Edit</button>\r\n            </div>}\r\n            <div>\r\n                <p>Name: <span>{profile.fullName}</span></p>\r\n            </div>\r\n\r\n            <div>\r\n                <b>About me:</b> {profile.aboutMe}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Looking for a job:</b> {profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n\r\n            {profile.lookingForAJob && <div>\r\n                <b>My professional skills:</b> {profile.lookingForAJobDescription}\r\n            </div>}\r\n\r\n            <div>\r\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n                // @ts-ignore\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonalInfo;\r\n\r\n","import React, { ChangeEvent } from 'react';\r\nimport styles from './Avatar.module.css';\r\nimport userPhoto from '../../../assets/image/user.png'\r\nimport {ProfilePhotosType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    savePhoto: (e: File) => void\r\n    photos: ProfilePhotosType\r\n    isOwner: boolean\r\n}\r\n\r\nconst Avatar: React.FC<PropsType> = (props) => {\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files === null) {\r\n            return console.log('no photo')\r\n        }\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.avatar}>\r\n            <img src={props.photos.large || userPhoto} alt='photo'/>\r\n            {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PropsType = {\r\n    message: string\r\n    countLikes: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://newscor.net/wp-content/uploads/9dae4c5ef70508e82f3bed0dcbac2209-800x700.jpg' alt='ava'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like-{props.countLikes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;\r\n\r\n","import React, {useCallback} from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../../common/FormsControl/FormsControl\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\ntype MyPostsPropsType = {\r\n    posts: Array<PostType>\r\n    addPost: (newPost: string) => void\r\n}\r\n\r\nconst MyPosts: React.FC<MyPostsPropsType> = React.memo((props) => {\r\n\r\n    let postsElements = props.posts.map(p => <Post message={p.message} key={p.id} countLikes={p.countLikes}/>);\r\n\r\n    const addNewPost = useCallback((values) => {\r\n        props.addPost(values.newPost)}\r\n    , [])\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <h3> My posts </h3>\r\n            <AddPostReduxForm onSubmit={addNewPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\ntype AddPostFormPropsType = {\r\n    handleSubmit: () => void\r\n}\r\n\r\nconst AddPostForm: React.FC<AddPostFormPropsType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       placeholder='Enter your message'\r\n                       name='newPost'\r\n                       validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm<any, any>({form: 'addPostForm'})(AddPostForm)\r\n\r\n\r\nexport default MyPosts;\r\n\r\n\r\n\r\n","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ProfilePhotosType, PostType, ProfileType} from \"../types/types\";\r\n\r\nconst ADD_POST = 'social-network/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'social-network/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'social-network/profile/SET_STATUS';\r\nconst DELETE_POST = 'social-network/profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'social-network/profile/SAVE_PHOTO_SUCCESS';\r\n\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hello!!!', countLikes: 3},\r\n        {id: 2, message: 'This is a post.', countLikes: 12}\r\n    ] as Array<PostType>,\r\n    status: '',\r\n    profile: null as ProfileType | null,\r\n    newPostText: ''\r\n};\r\n\r\ntype ProfileReducerInitialStateType = typeof initialState\r\n\r\nexport const profileReducer = (state = initialState, action: ProfileReducerActionsType): ProfileReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 3, message: action.newPostText, countLikes: 0}],\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype ProfileReducerActionsType = ReturnType<typeof addPost>\r\n    | ReturnType<typeof addPost>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n\r\nexport const addPost = (newPostText: string) => ({type: ADD_POST, newPostText} as const);\r\nconst setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile} as const);\r\nconst setStatus = (status: string) => ({type: SET_STATUS, status} as const);\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId} as const);\r\nexport const savePhotoSuccess = (photos: ProfilePhotosType) => ({type: SAVE_PHOTO_SUCCESS, photos} as const);\r\n\r\n\r\nexport default profileReducer;\r\n\r\nexport const getUserProfile = (userId: number) => async (dispatch: any) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: any) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: any) => {\r\n\r\n        const response = await profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        } else {\r\n            if (response.data.resultCode === 1) {\r\n                alert(response.data.messages[0])\r\n            }\r\n        }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile: ProfileType) => async (dispatch: any, getState: any) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n         dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n        return Promise.reject((response.data.messages[0]))\r\n    }\r\n}\r\n\r\n\r\n\r\n","import MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPost} from \"../../../redux/profileReduсer\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\ntype MapStatePropsType = {\r\n    newPostText: string\r\n    posts: Array<PostType>\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return {\r\n        newPostText: state.profilePage.newPostText,\r\n        posts: state.profilePage.posts\r\n    }\r\n};\r\n\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport PersonalInfo from \"./PersonalInfo/PersonalInfo\";\r\nimport Avatar from \"./Avatar/Avatar\";\r\nimport './Profile.module.css'\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    savePhoto: () => void\r\n    saveProfile: (formData: any) => Promise<any>\r\n    updateStatus: () => void\r\n    status: string\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Loading/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.profileWrapper}>\r\n            <Avatar photos={props.profile.photos}\r\n                    isOwner={props.isOwner}\r\n                    savePhoto={props.savePhoto}/>\r\n            <PersonalInfo profile={props.profile}\r\n                          updateStatus={props.updateStatus}\r\n                          status={props.status}\r\n                          isOwner={props.isOwner}\r\n                          saveProfile={props.saveProfile}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport './Profile.module.css'\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from \"../../redux/profileReduсer\";\r\nimport {withRouter, RouteProps} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    authorizedUserId: number\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: string) => void\r\n    getStatus: (userId: string) => void\r\n\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nclass ProfileContainer extends React.Component<any> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: any, prevState: any, snapshot: any) {\r\n        if (this.props.match.params !== prevProps.match.params) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}\r\n            status={this.props.status}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppRootStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter)(ProfileContainer);\r\n","import React, {ReactNode} from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType ={\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n    children?: ReactNode\r\n\r\n}\r\n\r\nconst Header: React.FC<PropsType> = ({isAuth, login, logout}) => {\r\n    return (\r\n        <header className={styles.header}>\r\n            <img src='https://cdn2.vectorstock.com/i/1000x1000/48/46/guitar-logo-vector-10784846.jpg' alt='logo'/>\r\n            <div className={styles.loginBlock}>\r\n                {isAuth\r\n                    ? <div>{login} - <button onClick={logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;\r\n\r\n","import {authAPI, ResultCodeEnum, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_URL_SUCCESS = 'social-network/auth/SET_CAPTCHA_URL_SUCCESS';\r\n\r\n// export type InitialStateType = {\r\n//     userId: number | null,\r\n//     email: string | null,\r\n//     login: string | null,\r\n//     isAuth: boolean,\r\n//     captchaUrl: string | null // if null the captcha is not required\r\n// };\r\n\r\nexport type AuthInitialStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n};\r\n\r\n\r\nlet initialState : AuthInitialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null the captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action: AuthReducerActionType): AuthInitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case   SET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AuthReducerActionType = ReturnType<typeof getCaptchaUrlSuccess> | SetAuthUserDataType\r\n\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string)=> ({\r\n    type: SET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n} as const);\r\n\r\n\r\ntype SetAuthDataActionPayloadType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype SetAuthUserDataType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: SetAuthDataActionPayloadType\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n} as const);\r\n\r\n\r\n//Thunk\r\nexport const getAuthUserData = () => async (dispatch: ThunkType) => {\r\n    let response = await authAPI.me();\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: Dispatch<AuthReducerActionType> | any) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.resultCode === ResultCodeEnum.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('loginForm', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch:Dispatch<AuthReducerActionType> | any) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch<AuthReducerActionType> | any) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, '', '', false));\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\ntype ThunkType = Dispatch<AuthReducerActionType>\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReduсer\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login:  string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    logout: () => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst  mapStateToProps = (state: AppRootStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, AppRootStateType>(mapStateToProps, {logout})(HeaderContainer);\r\n\r\n","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../../common/FormsControl/FormsControl\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReduсer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../../common/FormsControl/FormsControl.module.css';\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\n\r\ntype LoginFormPropsType = {\r\n    handleSubmit: () => void\r\n    error: string\r\n    captchaUrl: string\r\n}\r\n\r\nconst LoginForm: React.FC<LoginFormPropsType> = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', Input, [required])}\r\n            {createField('Password', 'password', Input, [required], {type: 'password'})}\r\n            {createField(null, 'rememberMe', Input, [], {type: 'checkbox'}, 'rememberMe')}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt='captcha'/>}\r\n            {captchaUrl && createField('Symbols from image', 'captcha', Input, [required])}\r\n\r\n            {error && <div className={style.formSummeryControl}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<any, any>({form: 'loginForm'})(LoginForm)\r\n\r\ntype LoginMapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n}\r\n\r\ntype LoginMapDispatchPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\ntype LoginPropsType = LoginMapStatePropsType & LoginMapDispatchPropsType\r\n\r\nconst Login: React.FC<LoginPropsType> = (props) => {\r\n\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h2>LOGIN</h2>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): LoginMapStatePropsType => (\r\n    {\r\n        captchaUrl: state.auth.captchaUrl,\r\n        isAuth: state.auth.isAuth\r\n    })\r\n\r\n\r\nexport default connect<LoginMapStatePropsType, LoginMapDispatchPropsType, {}, AppRootStateType>(mapStateToProps, {login})(Login);\r\n","import {getAuthUserData} from \"./authReduсer\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nexport type AppInitialStateType = typeof initialState;\r\n\r\nconst initialState  = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action: AppReducerActionTypes):AppInitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AppReducerActionTypes = InitializedSuccessActionType;\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nconst initializedSuccess = (): InitializedSuccessActionType  => ({type: INITIALIZED_SUCCESS});\r\n\r\n//Thunk\r\nexport const initializeApp = () => {\r\n    return (dispatch: Dispatch<AppReducerActionTypes> | any) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(initializedSuccess());\r\n            })\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n","import React, {Suspense} from \"react\";\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n            return (props) => {\r\n                return <Suspense fallback={<div>Loading...</div>}>\r\n                    <Component {...props}/>\r\n                </Suspense>\r\n\r\n            };\r\n        }\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReduсer\";\r\nimport Loading from \"./common/Loading/Loading\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst PhotosContainer = React.lazy(() => import('./components/Photos/PhotosContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\n\r\n\r\nclass Main extends React.Component {\r\n\r\n    catchAllUnhandledErrors = (promiseRejectionEvent) =>  {\r\n        alert('Some error occurred');\r\n        console.log(promiseRejectionEvent);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n\r\n            return (\r\n                <div className='appLoad'>\r\n                    <Loading/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route exact path={'/'} render={() => <Redirect to={'/profile/:userId?'}/>}/>\r\n                        <Route\r\n                            path='/profile/:userId?'    // Вопросительный знак в пути означает что параметр опциональный. Его может не быть.\r\n                            render={() => <ProfileContainer/>}/>\r\n                        <Route path='/dialogs'\r\n                               render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/photos'\r\n                               render={withSuspense(PhotosContainer)}/>\r\n                        <Route path='/news' render={withSuspense(News)}/>\r\n                        <Route path='/music' render={withSuspense(Music)}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(Main);\r\n\r\n\r\n\r\n\r\n","const initialState = {};\r\n\r\ntype SideBarReducerInitialStateType = typeof initialState\r\n\r\nconst sidebarReducer = (state = initialState, action: any): SideBarReducerInitialStateType => {\r\n\r\n    return state;\r\n}\r\n\r\n\r\n\r\n\r\nexport default sidebarReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReduсer\";\r\nimport dialogsReducer from \"./dialogsReduсer\";\r\nimport sidebarReducer from \"./sidebarReduсer\";\r\nimport usersReducer from \"./usersReduсer\";\r\nimport photosReducer from \"./photosReduсer\";\r\nimport {loadingReducer} from \"./loadingReducer\";\r\nimport authReducer from \"./authReduсer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReduсer\";\r\n\r\nlet rootReducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    photosPage: photosReducer,\r\n    loading: loadingReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducers>\r\n\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\n// window.store = store;\r\nexport default store;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport Main from \"./Main\";\r\nimport store from \"./redux/redux-store\";\r\n\r\n\r\nfunction App() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <Main/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App/>, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__1ujd9\",\"error\":\"FormsControl_error__tprAW\",\"formSummeryControl\":\"FormsControl_formSummeryControl__3562J\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length >maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personalInfo\":\"PersonalInfo_personalInfo__3txPO\",\"contact\":\"PersonalInfo_contact__2Otb5\"};","const SET_LOADING = \"social-network/loading/SET_LOADING\"\r\n\r\n\r\nconst initialState = {\r\n    isLoading: true\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const  loadingReducer = (state = initialState, action: LoadingReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport type LoadingReducerActionsType = ReturnType<typeof setLoading>\r\n\r\nexport const setLoading = (isLoading: boolean) => ({type: SET_LOADING, isLoading} as const)\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1Z4pV\"};","import React from 'react';\r\nimport style from './Loading.module.css';\r\nimport gif from '../../assets/gif/35.gif'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <div className={style.loader}>\r\n            <img src={gif} alt='loading...'/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3lCWO\",\"posts\":\"MyPosts_posts__Eibat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__ZIzY5\",\"loginBlock\":\"Header_loginBlock__mm4Cz\"};"],"sourceRoot":""}