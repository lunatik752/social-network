{"version":3,"sources":["components/Profile/Profile.module.css","assets/image/user.png","components/Users/Usere.module.css","components/Profile/MyPosts/MyPosts.module.css","redux/photosReduсer.ts","api/chat-api.ts","redux/chatReduсer.ts","components/Profile/PersonalInfo/ProfileStatus.module.css","components/Profile/Avatar/Avatar.module.css","components/Profile/MyPosts/Post/Post.module.css","common/Loading/Loading.module.css","assets/gif/35.gif","components/Users/UsereSearchForm.module.css","components/Header/Header.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","components/Settings/Settings.tsx","components/Profile/PersonalInfo/ProfileStatusWithHooks.tsx","common/FormsControl/FormsControl.tsx","api/api.ts","components/Profile/PersonalInfo/ProfileDataForm.tsx","components/Profile/PersonalInfo/PersonalInfo.tsx","components/Profile/Avatar/Avatar.tsx","components/Profile/MyPosts/Post/Post.tsx","utils/validators/validators.ts","components/Profile/MyPosts/MyPosts.tsx","api/profile-api.ts","redux/profileReducer.ts","components/Profile/MyPosts/MyPostsContainer.tsx","common/Loading/Loading.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","api/auth-api.ts","api/security-api.ts","redux/authReduсer.ts","components/Login/Login.tsx","redux/appReduсer.ts","hoc/withSuspense.tsx","common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","redux/loadingReducer.ts","api/users-api.ts","redux/usersReduсer.ts","redux/usersSelectors.ts","components/Users/Users.tsx","components/Navbar/Navbar.tsx","components/Users/UsersPage.tsx","redux/authSelectors.ts","components/Header/Header.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogItem/DialogItem.tsx","redux/dialogsReduсer.ts","components/Dialogs/AddMessageForm.tsx","redux/dialogsSelectors.ts","components/Dialogs/Dialogs.tsx","Main.tsx","redux/sidebarReduсer.ts","redux/store.ts","App.tsx","index.tsx","components/Dialogs/Dialogs.module.css","common/FormsControl/FormsControl.module.css","common/Paginator/Paginator.module.css","components/Profile/PersonalInfo/PersonalInfo.module.css"],"names":["module","exports","initialState","photos","id","urlPhoto","title","comments","comment","newCommentText","addComment","type","updateNewCommentText","text","newText","photosReducer","state","action","subscribers","ws","closeHandler","console","log","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","data","forEach","s","removeEventListener","close","WebSocket","addEventListener","chatApi","callback","push","filter","message","send","messages","chatReducer","payload","chatActions","_newMessageHandler","newMessageHandlerCreator","dispatch","startMessagesListening","a","stopMessagesListening","sendMessage","Boolean","window","location","hostname","match","Settings","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","styles","statusWrapper","onDoubleClick","onBlur","updateStatus","autoFocus","value","onChange","currentTarget","FormControl","meta","touched","error","children","hasError","classForTextarea","formControl","Textarea","input","restProps","Input","createField","placeholder","name","component","validate","Field","ResultCodeEnum","ResultCodeForCaptchaEnum","ProfileDataReduxForm","reduxForm","form","handleSubmit","profile","onSubmit","style","formSummeryControl","Object","keys","contacts","map","key","contact","Contact","contactTitle","contactValue","ProfileData","isOwner","goToEditMode","profileData","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","PersonalInfo","saveProfile","personalInfo","initialValues","formData","then","Avatar","avatar","src","large","userPhoto","alt","target","files","length","savePhoto","Post","item","countLikes","required","MyPostMemorized","React","memo","postsElements","posts","p","addNewPost","useCallback","values","addPost","newPost","myPosts","AddPostReduxForm","instance","axios","create","baseURL","withCredentials","headers","profileAPI","userId","get","res","put","file","FormData","append","response","profileActions","newPostText","setUserProfile","deletePost","postId","savePhotoSuccess","getUserProfile","MyPostsContainer","connect","profilePage","MyPosts","Loading","loader","gif","Profile","profileWrapper","ProfileContainer","this","params","authorizedUserId","getStatus","refreshProfile","prevProps","prevState","Component","compose","auth","isAuth","resultCode","alert","Success","getState","Error","stopSubmit","_error","Promise","reject","withRouter","authAPI","email","password","rememberMe","captcha","post","delete","securityAPI","login","captchaUrl","authActions","getAuthUserData","getCaptchaUrl","url","LoginReduxForm","undefined","Login","useSelector","useDispatch","CaptchaIsRequired","to","initialized","appActions","appReducer","withSuspense","WrappedComponent","fallback","maxLength","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","x","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","prevNextButton","page","cn","selectedPage","pageNumber","User","user","followingInProgress","unFollow","follow","small","followed","disabled","some","usersSearchFormValidate","UsersSearchForm","onFilterChanged","searchFormWrapper","term","friend","setSubmitting","isSubmitting","as","SET_LOADING","isLoading","setLoading","usersAPI","getUsers","unFollowUser","followUser","users","totalUsersCount","userReducerActions","isFetching","requestUsers","items","totalCount","_followUnfollowFlow","apiMethod","actionCreator","createSelector","usersPage","u","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getUsersFilter","getIsLoading","loading","Users","history","useHistory","parsed","queryString","search","substr","actualPage","actualFilter","Number","query","String","pathname","followHandler","bind","unFollowHandler","usersWrapper","UsersPage","selectIsAuth","selectCurrentUserLogin","Header","Layout","AppHeader","onClickHandler","span","theme","mode","defaultSelectedKeys","Item","backgroundColor","icon","UserOutlined","currentUserLogin","Message","DialogsItem","dialog","active","dialogs","dialogsActions","newMessageBody","maxLength50","AddMessageReduxForm","selectDialogsPage","dialogsPage","Dialogs","dialogsElements","d","messagesElements","m","dialogsItem","messagesItem","SubMenu","Menu","Content","Sider","PhotosContainer","lazy","News","Music","ChatPage","SuspendedDialogs","SuspendedPhotos","SuspendedChatPage","Main","catchAllUnhandledErrors","initializeApp","width","defaultOpenKeys","height","borderRight","LaptopOutlined","NotificationOutlined","padding","margin","minHeight","exact","path","render","app","promise","all","rootReducers","combineReducers","sidebar","photosPage","formReducer","chat","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.603ef4b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileWrapper\":\"Profile_profileWrapper__1Z4pV\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrapper\":\"Usere_usersWrapper__cJRN8\",\"userPhoto\":\"Usere_userPhoto__2DVqf\",\"selectedPage\":\"Usere_selectedPage__3Ba5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3lCWO\",\"posts\":\"MyPosts_posts__Eibat\"};","import { PhotosType } from \"../types/types\";\r\n\r\nconst ADD_COMMENT = 'social-network/photos/ADD_COMMENT';\r\nconst UPDATE_NEW_COMMENT_TEXT = 'social-network/photos/UPDATE_NEW_COMMENT_TEXT'\r\n\r\n\r\nlet initialState = {\r\n    photos:\r\n        [\r\n            {\r\n                id: 1,\r\n                urlPhoto: 'https://sun9-5.userapi.com/c598/u28496219/114838671/x_c7cb1d16.jpg',\r\n                title: 'asdf',\r\n                comments: [\r\n                    {id: 1, comment: 'nice photo'},\r\n                    {id: 2, comment: 'very nice photo'},\r\n                ],\r\n            }] as Array<PhotosType>,\r\n    newCommentText: ''\r\n}\r\n\r\ntype PhotosReducerInitialStateType = typeof initialState\r\n\r\nconst photosReducer = (state = initialState, action: PhotosReducerActionsType) : PhotosReducerInitialStateType=> {\r\n\r\n\r\n    switch (action.type) {\r\n        case UPDATE_NEW_COMMENT_TEXT:\r\n            return {\r\n                ...state,\r\n                photos: {\r\n                    ...state.photos\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype PhotosReducerActionsType = ReturnType<typeof addComment> | ReturnType<typeof updateNewCommentText>\r\n\r\nexport const addComment = () => ({type: ADD_COMMENT} as const);\r\n\r\nexport const updateNewCommentText = (text: string) =>\r\n    ({type: UPDATE_NEW_COMMENT_TEXT, newText: text} as const);\r\n\r\nexport default photosReducer;\r\n","let subscribers = [] as SubscriberType[]\r\n\r\nlet ws: WebSocket | null = null\r\n\r\nconst closeHandler = () => {\r\n    console.log('close ws')\r\n    setTimeout(createChannel, 3000)\r\n}\r\n\r\nconst messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data);\r\n    subscribers.forEach(s => s(newMessages))\r\n}\r\n\r\nfunction createChannel() {\r\n    ws?.removeEventListener('close', closeHandler);\r\n    ws?.close();\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n    ws.addEventListener('close ', closeHandler);\r\n    ws.addEventListener('message', messageHandler);\r\n}\r\n\r\n\r\nexport const chatApi = {\r\n    start() {\r\n        createChannel()\r\n    },\r\n    stop() {\r\n        subscribers=[];\r\n        ws?.removeEventListener('close', closeHandler);\r\n        ws?.removeEventListener('message', messageHandler);\r\n        ws?.close();\r\n    },\r\n    subscribe(callback: SubscriberType) {\r\n        subscribers.push(callback)\r\n        return () => {\r\n            subscribers = subscribers.filter(s => s !== callback)\r\n        }\r\n    },\r\n    // второй вариант для отписки пользователя\r\n    unSubscribe(callback: SubscriberType) {\r\n        subscribers = subscribers.filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\n\r\ntype SubscriberType = (messages: ChatMessageType[]) => void\r\n\r\nexport type ChatMessageType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\n","import {FormAction} from \"redux-form\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./store\";\r\nimport {chatApi, ChatMessageType} from \"../api/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[]\r\n};\r\n\r\nexport const chatReducer = (state = initialState, action: ChatReducerActionType): ChatInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/AUTH/MESSAGES_RECEIVED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst chatActions = {\r\n    messagesReceived: (messages: ChatMessageType[]) => ({\r\n        type: 'SN/AUTH/MESSAGES_RECEIVED',\r\n        payload: {messages}\r\n    } as const),\r\n}\r\n//Thunk\r\nlet _newMessageHandler: ((messages: ChatMessageType[]) => void) | null = null;\r\n\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages: ChatMessageType[]) => {\r\n            dispatch(chatActions.messagesReceived(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n};\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatApi.start()\r\n    chatApi.subscribe(newMessageHandlerCreator(dispatch))\r\n}\r\n\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatApi.unSubscribe(newMessageHandlerCreator(dispatch))\r\n    chatApi.stop()\r\n}\r\n\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch) => {\r\n    chatApi.sendMessage(message)\r\n}\r\n\r\n\r\ntype ChatInitialStateType = typeof initialState\r\ntype ChatReducerActionType = InferActionsTypes<typeof chatActions>\r\n\r\ntype ThunkType = BaseThunkType<ChatReducerActionType | FormAction>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusWrapper\":\"ProfileStatus_statusWrapper__3pCTq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__2TaxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2SZFa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loading_loader__2Q8W4\"};","module.exports = __webpack_public_path__ + \"static/media/35.f611c450.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchFormWrapper\":\"UsereSearchForm_searchFormWrapper__28tb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentUserLogin\":\"Header_currentUserLogin__3NC46\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1IbkZ\",\"item\":\"Navbar_item__2Ek4J\",\"active\":\"Navbar_active__oYiAX\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst Settings: React.FC<PropsType> = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;\r\n","import React, {useEffect, useState, ChangeEvent} from 'react';\r\nimport styles from './ProfileStatus.module.css';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState<boolean>(false);\r\n    let [status, setStatus] = useState<string>(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.statusWrapper}>\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || 'edit status'}</span>\r\n            </div>}\r\n            {editMode &&\r\n            <div>\r\n                <input type=\"text\"\r\n                       onBlur={deactivateEditMode}\r\n                       autoFocus={true}\r\n                       value={status}\r\n                       onChange={onStatusChange}/>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport styles from './FormsControl.module.css'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\nimport {FieldValidatorType} from \"../../utils/validators/validators\";\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    const classForTextarea = styles.formControl + ' ' + (hasError ? styles.error : '')\r\n\r\n    return (\r\n        <div className={classForTextarea}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                            name: FormKeysType,\r\n                            component: React.FC<WrappedFieldProps>,\r\n                            validate: Array<FieldValidatorType>,\r\n                            props = {},\r\n                            text = '') {\r\n    return <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               component={component}\r\n               validate={validate}\r\n               {...props}/>{text}\r\n    </div>\r\n}\r\n\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '90bf912e-ca5a-4b96-9037-858f400fe7a5'},\r\n});\r\n\r\nexport enum ResultCodeEnum  {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\nexport enum ResultCodeForCaptchaEnum  {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type ApiResponseType<D = {}, RC = ResultCodeEnum> = {\r\n    data: D\r\n    resultCode: RC\r\n    messages: Array<string>\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {createField, GetStringKeys, Input, Textarea} from \"../../../common/FormsControl/FormsControl\";\r\nimport styles from './PersonalInfo.module.css';\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport style from \"../../../common/FormsControl/FormsControl.module.css\";\r\nimport {ProfileType} from \"../../../types/types\";\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType\r\n}\r\ntype ProfileTypeKeys = GetStringKeys<ProfileType>\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileType, PropsType> & PropsType> = ({handleSubmit, profile, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <button>Save</button>\r\n            </div>\r\n            {error && <div className={style.formSummeryControl}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Name:</b> {createField<ProfileTypeKeys>('Full name', 'fullName', Input, [])}\r\n                <b>About me:</b>\r\n                {createField<ProfileTypeKeys>('About me', 'aboutMe', Textarea, [])}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Looking for a job:</b>\r\n                {createField<ProfileTypeKeys>('', 'lookingForAJob', Input, [],{type: 'checkbox'})}\r\n            </div>\r\n\r\n            <div>\r\n                <b>My professional skills:</b>\r\n                {createField<ProfileTypeKeys>('My professional skills', 'lookingForAJobDescription', Textarea, [])}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Contacts:</b> {Object.keys(profile.contacts).map(key => {\r\n                return <div className={styles.contact} key={key}>\r\n                    <b>{key}: </b> {createField(key, 'contacts.' + key, Input, [])}\r\n\r\n                </div>\r\n            })}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm<ProfileType, PropsType>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm\r\n","import React, {useState} from 'react';\r\nimport styles from './PersonalInfo.module.css';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\n\r\ntype PersonalInfoPropsType = {\r\n    profile: ProfileType\r\n    updateStatus: (newStatus: string) => void\r\n    status: string\r\n    isOwner: boolean\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\nconst PersonalInfo: React.FC<PersonalInfoPropsType> = ({profile, updateStatus, status, isOwner, saveProfile}) => {\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n\r\n    const goToEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        saveProfile(formData)\r\n            .then(\r\n                () => {\r\n                    setEditMode(false)\r\n                }\r\n            )\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.personalInfo}>\r\n\r\n            {editMode\r\n                ? <ProfileDataForm profile={profile}\r\n                                   initialValues={profile}\r\n                                   onSubmit={onSubmit}/>\r\n                : <ProfileData profile={profile}\r\n                               isOwner={isOwner}\r\n                               goToEditMode={goToEditMode}\r\n                />}\r\n            <ProfileStatusWithHooks updateStatus={updateStatus}\r\n                                    status={status}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div>\r\n            <b>{contactTitle}: </b>{contactValue}\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return (\r\n\r\n        <div className={styles.profileData}>\r\n            {isOwner && <div>\r\n                <button onClick={goToEditMode}>Edit</button>\r\n            </div>}\r\n            <div>\r\n                <p>Name: <span>{profile.fullName}</span></p>\r\n            </div>\r\n\r\n            <div>\r\n                <b>About me:</b> {profile.aboutMe}\r\n            </div>\r\n\r\n            <div>\r\n                <b>Looking for a job:</b> {profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n\r\n            {profile.lookingForAJob && <div>\r\n                <b>My professional skills:</b> {profile.lookingForAJobDescription}\r\n            </div>}\r\n\r\n            <div>\r\n                <b>Contacts:</b> {\r\n                Object\r\n                    .keys(profile.contacts)\r\n                    .map((key) => {\r\n                        return <Contact key={key} contactTitle={key}\r\n                                        contactValue={profile.contacts[key as keyof ContactsType]}/>\r\n                    })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonalInfo;\r\n\r\n","import React, {ChangeEvent} from 'react';\r\nimport styles from './Avatar.module.css';\r\nimport userPhoto from '../../../assets/image/user.png'\r\nimport {ProfilePhotosType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    photos: ProfilePhotosType\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n}\r\n\r\nconst Avatar: React.FC<PropsType> = (props) => {\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files?.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.avatar}>\r\n            <img src={props.photos.large || userPhoto} alt='photo'/>\r\n            {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PropsType = {\r\n    message: string\r\n    countLikes: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://newscor.net/wp-content/uploads/9dae4c5ef70508e82f3bed0dcbac2209-800x700.jpg' alt='ava'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like-{props.countLikes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;\r\n\r\n","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator  = (maxLength: number): FieldValidatorType => (value: string) => {\r\n    if (value.length >maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n","import React, {useCallback} from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport {createField, GetStringKeys, Textarea} from \"../../../common/FormsControl/FormsControl\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\nexport type MyPostsPropsType = {\r\n    posts: Array<PostType>\r\n}\r\n\r\nexport type DispatchPropsType = {\r\n    addPost: (newPost: string) => void\r\n}\r\n\r\n\r\n\r\nconst MyPosts: React.FC<MyPostsPropsType & DispatchPropsType> = (props) => {\r\n\r\n    let postsElements = props.posts.map(p => <Post message={p.message} key={p.id} countLikes={p.countLikes}/>);\r\n\r\n    const addNewPost = useCallback((values: AddPostFormDataType) => {\r\n        props.addPost(values.newPost)}\r\n    , [])\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <h3> My posts </h3>\r\n            <AddPostReduxForm onSubmit={addNewPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst MyPostMemorized = React.memo(MyPosts)\r\n\r\ntype AddPostFormPropsType = {\r\n}\r\n\r\ntype AddPostFormDataType = {\r\n    newPost: string\r\n}\r\n\r\ntype AddPostFormDataTypeKeys = GetStringKeys<AddPostFormDataType>\r\n\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormDataType, AddPostFormPropsType> & AddPostFormPropsType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                {createField<AddPostFormDataTypeKeys>('Yor post', 'newPost', Textarea, [required])}\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm<AddPostFormDataType, AddPostFormPropsType>({form: 'addPostForm'})(AddPostForm)\r\n\r\n\r\nexport default MyPostMemorized;\r\n\r\n\r\n\r\n","import {ProfilePhotosType, ProfileType} from \"../types/types\";\r\nimport {instance, ApiResponseType} from \"./api\";\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/${userId}`).then(res => res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<ApiResponseType>(`profile/status`, {status}).then(res => res.data)\r\n    },\r\n    savePhoto(file: any) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", file);\r\n        return instance.put<ApiResponseType<ProfilePhotosType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(response => {\r\n                return response.data;\r\n            }\r\n        )\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<ApiResponseType>(`profile`, profile).then(res => res.data)\r\n    }\r\n}\r\n","import {ResultCodeEnum} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {PostType, ProfilePhotosType, ProfileType} from \"../types/types\";\r\nimport {profileAPI} from \"../api/profile-api\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./store\";\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hello!!!', countLikes: 3},\r\n        {id: 2, message: 'This is a post.', countLikes: 12}\r\n    ] as Array<PostType>,\r\n    status: '',\r\n    profile: null as ProfileType | null,\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action: ProfileReducerActionsType): ProfileReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/ADD-POST':\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 3, message: action.newPostText, countLikes: 0}],\r\n            }\r\n        case 'SN/PROFILE/SET_USER_PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case 'SN/PROFILE/SET_STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case 'SN/PROFILE/DELETE_POST':\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n        case 'SN/PROFILE/SAVE_PHOTO_SUCCESS':\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const profileActions = {\r\n    addPost: (newPostText: string) => ({type: 'SN/PROFILE/ADD-POST', newPostText} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'SN/PROFILE/SET_USER_PROFILE', profile} as const),\r\n    setStatus: (status: string) => ({type: 'SN/PROFILE/SET_STATUS', status} as const),\r\n    deletePost: (postId: number) => ({type: 'SN/PROFILE/DELETE_POST', postId} as const),\r\n    savePhotoSuccess: (photos: ProfilePhotosType) => ({type: 'SN/PROFILE/SAVE_PHOTO_SUCCESS', photos} as const),\r\n}\r\n\r\n\r\nexport const getUserProfile = (userId: number): ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId);\r\n    dispatch(profileActions.setUserProfile(data));\r\n}\r\n\r\n\r\nexport const getStatus = (userId: number): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getStatus(userId);\r\n    dispatch(profileActions.setStatus(data));\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n        dispatch(profileActions.setStatus(status));\r\n    } else {\r\n        if (data.resultCode === 1) {\r\n            alert(data.messages[0])\r\n        }\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File): ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.savePhoto(file);\r\n    if (data.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(profileActions.savePhotoSuccess(data.data));\r\n    }\r\n}\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch , getState) => {\r\n    const userId = getState().auth.userId\r\n    const data = await profileAPI.saveProfile(profile);\r\n    if (data.resultCode === 0) {\r\n        if (userId != null) {\r\n          await  dispatch(getUserProfile(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: data.messages[0]}));\r\n        return Promise.reject((data.messages[0]))\r\n    }\r\n}\r\n\r\nexport type ProfileReducerInitialStateType = typeof initialState\r\ntype ProfileReducerActionsType = InferActionsTypes<typeof profileActions>\r\ntype ThunkType = BaseThunkType<ProfileReducerActionsType | FormAction>\r\n\r\n\r\n","import MyPosts, {MyPostsPropsType, DispatchPropsType} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {profileActions} from \"../../../redux/profileReducer\";\r\nimport {AppRootStateType} from \"../../../redux/store\";\r\n\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n};\r\n\r\n\r\nconst MyPostsContainer = connect<MyPostsPropsType, DispatchPropsType, {}, AppRootStateType>(mapStateToProps, {addPost: profileActions.addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport style from './Loading.module.css';\r\nimport gif from '../../assets/gif/35.gif'\r\n\r\nconst Loading: React.FC = () => {\r\n    return (\r\n        <div className={style.loader}>\r\n            <img src={gif} alt='loading...'/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport PersonalInfo from \"./PersonalInfo/PersonalInfo\";\r\nimport Avatar from \"./Avatar/Avatar\";\r\nimport './Profile.module.css'\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    updateStatus: (newStatus: string) => void\r\n    status: string\r\n    isOwner: boolean\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n    savePhoto: (file: File) => void\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Loading/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.profileWrapper}>\r\n            <Avatar photos={props.profile.photos}\r\n                    isOwner={props.isOwner}\r\n                    savePhoto={props.savePhoto}/>\r\n            <PersonalInfo profile={props.profile}\r\n                          updateStatus={props.updateStatus}\r\n                          status={props.status}\r\n                          isOwner={props.isOwner}\r\n                          saveProfile={props.saveProfile}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport './Profile.module.css'\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter, RouteComponentProps} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {AppRootStateType} from \"../../redux/store\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    authorizedUserId: number | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (newStatus: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & RouteComponentProps<PathParamsType>\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        if (!userId) {\r\n            console.error('ID should exists in URI params or in state (\"authorizedUserId\")')\r\n        } else {\r\n            this.props.getUserProfile(userId);\r\n            this.props.getStatus(userId);\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n        if (this.props.match.params !== prevProps.match.params) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     saveProfile={this.props.saveProfile}\r\n                     status={this.props.status}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppRootStateType): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter)(ProfileContainer);\r\n","import {instance, ResultCodeForCaptchaEnum, ApiResponseType, ResultCodeEnum} from \"./api\";\r\n\r\ntype MeParamsType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\n\r\n\r\nexport type LoginParamsType = {\r\n    userId: null\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<ApiResponseType<MeParamsType>>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<ApiResponseType<LoginParamsType, ResultCodeEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        }).then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete<ApiResponseType>(`auth/login`).then(res => res.data);\r\n    },\r\n}\r\n","import {instance} from \"./api\";\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`/security/get-captcha-url`,).then(res => res.data)\r\n    }\r\n}\r\n","import {ResultCodeEnum, ResultCodeForCaptchaEnum} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/auth-api\";\r\nimport {securityAPI} from \"../api/security-api\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./store\";\r\n\r\n\r\nlet initialState  = {\r\n    userId: null as (number | null),\r\n    email: null as (string | null),\r\n    login: null as (string | null),\r\n    isAuth: false,\r\n    captchaUrl: null as (string | null)// if null the captcha is not required\r\n};\r\n\r\nexport const authReducer = (state = initialState, action: AuthReducerActionType): AuthInitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/AUTH/SET_USER_DATA\":\r\n        case   \"SN/AUTH/SET_CAPTCHA_URL_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst authActions = {\r\n    setCaptchaUrlSuccess: (captchaUrl: string)=> ({type: 'SN/AUTH/SET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const),\r\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n        type: 'SN/AUTH/SET_USER_DATA',\r\n        payload: {userId, email, login, isAuth}\r\n    } as const)\r\n}\r\n\r\n//Thunk\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        let {id, email, login} = response.data;\r\n        dispatch(authActions.setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('loginForm', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () : ThunkType => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = data.url;\r\n    dispatch(authActions.setCaptchaUrlSuccess(captchaUrl));\r\n\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n        dispatch(authActions.setAuthUserData(null, '', '', false));\r\n    }\r\n}\r\n\r\n\r\ntype AuthInitialStateType = typeof initialState\r\ntype AuthReducerActionType = InferActionsTypes<typeof authActions>\r\ntype ThunkType = BaseThunkType<AuthReducerActionType | FormAction>\r\n","import React, {useCallback} from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeys, Input} from \"../../common/FormsControl/FormsControl\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {login} from \"../../redux/authReduсer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../../common/FormsControl/FormsControl.module.css';\r\nimport {AppRootStateType} from \"../../redux/store\";\r\n\r\ntype LoginFormOwnPropsType = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormDataType, LoginFormOwnPropsType> & LoginFormOwnPropsType> = ({\r\n                                                                                                                      handleSubmit,\r\n                                                                                                                      error,\r\n                                                                                                                      captchaUrl\r\n                                                                                                                  }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField<LoginFormDataTypeKeys>('Email', 'email', Input, [required])}\r\n            {createField<LoginFormDataTypeKeys>('Password', 'password', Input, [required], {type: 'password'})}\r\n            {createField<LoginFormDataTypeKeys>(undefined, 'rememberMe', Input, [], {type: 'checkbox'}, 'rememberMe')}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt='captcha'/>}\r\n            {captchaUrl && createField<LoginFormDataTypeKeys>('Symbols from image', 'captcha', Input, [required])}\r\n\r\n            {error && <div className={style.formSummeryControl}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormDataType, LoginFormOwnPropsType>({form: 'loginForm'})(LoginForm)\r\n\r\ntype LoginPropsType = {\r\n\r\n}\r\n\r\nexport type LoginFormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\ntype LoginFormDataTypeKeys = GetStringKeys<LoginFormDataType>\r\n\r\nexport const Login: React.FC<LoginPropsType> = () => {\r\n\r\n    const captchaUrl = useSelector<AppRootStateType, string | null>(state => state.auth.captchaUrl)\r\n    const isAuth = useSelector<AppRootStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onSubmit = useCallback((formData: LoginFormDataType) => {\r\n       dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }, [])\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h2>LOGIN</h2>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n    </div>\r\n}\r\n","import {getAuthUserData} from \"./authReduсer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {InferActionsTypes} from \"./store\";\r\n\r\n\r\nexport type AppInitialStateType = typeof initialState;\r\n\r\nconst initialState  = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action: AppActionsType):AppInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/APP/INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const appActions = {\r\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'}) as const\r\n}\r\n\r\ntype AppActionsType = InferActionsTypes<typeof appActions>\r\n\r\n\r\n\r\n//Thunk\r\nexport const initializeApp = () => {\r\n    return (dispatch: Dispatch<AppActionsType> | any) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(appActions.initializedSuccess());\r\n            })\r\n    }\r\n}\r\n\r\nexport default appReducer;\r\n","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    return (props: WCP) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <WrappedComponent {...props}/>\r\n        </Suspense>\r\n\r\n    };\r\n}\r\n","import React, {useState} from 'react';\r\nimport styles from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\ntype PropsTypes = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage?: number\r\n    onPageChanged?: (page: number) => void\r\n    portionSize?: number\r\n\r\n}\r\n\r\nconst Paginator: React.FC<PropsTypes> = React.memo(({totalItemsCount, pageSize, currentPage = 1, onPageChanged = (x: any) => x, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState<number>(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize - 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    const onPrevButtonClick = () => {\r\n        setPortionNumber(portionNumber - 1);\r\n    }\r\n\r\n    const onNextButtonClick = () => {\r\n        setPortionNumber(portionNumber + 1);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button className={styles.prevNextButton} onClick={onPrevButtonClick}> &lt;&lt;  Previous</button>}\r\n\r\n            {pages\r\n                .filter(page => page >= leftPortionPageNumber  &&  page <= rightPortionPageNumber)\r\n                .map((page) => {\r\n                    return <span key={page}\r\n                                 className={ cn({[styles.selectedPage]: currentPage === page}, styles.pageNumber) }\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(page)\r\n                                 }}>{page}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.prevNextButton} onClick={onNextButtonClick}>Next &gt;&gt;</button>}\r\n        </div>\r\n\r\n    )\r\n});\r\n\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport style from './Usere.module.css'\r\nimport userPhoto from '../../assets/image/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserType} from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unFollow: (id: number) => void\r\n    follow: (id: number) => void\r\n}\r\n\r\nconst User: React.FC<PropsType> = ({user, followingInProgress, unFollow, follow}) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={`/profile/${user.id}`}>\r\n                                 <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                      alt='photo'\r\n                                      className={style.userPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              unFollow(user.id)\r\n                                          }}>Unfollow\r\n                                </button>\r\n                                : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              follow(user.id)\r\n                                          }}>Follow\r\n                                </button>}\r\n                        </div>\r\n                    </span>\r\n            <span>\r\n                        <span>\r\n                            <div>\r\n                                <span>{user.name}</span>\r\n                            </div>\r\n                            <div>\r\n                                {user.status}\r\n                            </div>\r\n                        </span>\r\n                    </span>\r\n        </div>)\r\n}\r\n\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport style from './UsereSearchForm.module.css'\r\nimport {Field, Form, Formik} from 'formik';\r\nimport {FilterType} from '../../redux/usersReduсer';\r\n\r\n\r\ntype PropsTypes = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: 'true' | 'false' | 'null'\r\n}\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\n\r\nexport const UsersSearchForm: React.FC<PropsTypes> = React.memo(({onFilterChanged}) => {\r\n\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType =  {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true'\r\n        }\r\n        onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return (\r\n\r\n\r\n        <div className={style.searchFormWrapper}>\r\n            <Formik\r\n                initialValues={{term: '', friend: 'null'}}\r\n                validate={usersSearchFormValidate}\r\n                onSubmit={submit}\r\n            >\r\n                {({isSubmitting}) => (\r\n                    <Form>\r\n                        <Field type=\"text\" name=\"term\"/>\r\n                        <Field name=\"friend\" as=\"select\">\r\n                            <option value=\"null\">All</option>\r\n                            <option value=\"true\">Only followed</option>\r\n                            <option value=\"false\">Only unFollowed</option>\r\n                        </Field>\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            Find\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n","const SET_LOADING = \"social-network/loading/SET_LOADING\"\r\n\r\n\r\nconst initialState = {\r\n    isLoading: true\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const  loadingReducer = (state = initialState, action: LoadingReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_LOADING:\r\n            return {...state, isLoading: action.isLoading};\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport type LoadingReducerActionsType = ReturnType<typeof setLoading>\r\n\r\nexport const setLoading = (isLoading: boolean) => ({type: SET_LOADING, isLoading} as const)\r\n\r\n\r\n","import {instance, ApiResponseType} from \"./api\";\r\nimport {UserType} from \"../types/types\";\r\n\r\ntype GetUsersResponseDataType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<GetUsersResponseDataType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`)\r\n        ).then(response => response.data)\r\n    },\r\n    unFollowUser(userId: number) {\r\n        return instance.delete<ApiResponseType>(`follow/${userId}`\r\n        ).then(response => response.data)\r\n    },\r\n    followUser(userId: number) {\r\n        return instance.post<ApiResponseType>(`follow/${userId}`, {}\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n","import {UserType} from \"../types/types\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {LoadingReducerActionsType, setLoading} from \"./loadingReducer\";\r\nimport {usersAPI} from \"../api/users-api\";\r\nimport {ApiResponseType, ResultCodeEnum} from \"../api/api\";\r\n\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    followingInProgress: [] as Array<number>, // Array of users id\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n};\r\n\r\n\r\nexport const usersReducer = (state = initialState, action: UsersReducerActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true};\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false};\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n        case 'SN/USERS/SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case  'SN/USERS/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case 'SN/USERS/SET_TOTAL_USER_COUNT':\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        case \"SN/USERS/SET_FILTER\":\r\n            return {...state, filter: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userReducerActions = {\r\n    followSuccess: (userId: number) => ({type: 'SN/USERS/FOLLOW', userId} as const),\r\n    unFollowSuccess: (userId: number) => ({type: 'SN/USERS/UNFOLLOW', userId} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', currentPage} as const),\r\n    setFilter: (filter: FilterType) => ({type: 'SN/USERS/SET_FILTER', payload: filter } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'SN/USERS/SET_TOTAL_USER_COUNT',\r\n        totalUsersCount\r\n    } as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n}\r\n\r\n\r\n// Thunk(санка) для загрузки страниц пользователей\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    dispatch(userReducerActions.setCurrentPage(page))\r\n    dispatch(userReducerActions.setFilter(filter))\r\n\r\n    let response = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend);\r\n    dispatch(setLoading(false));\r\n    dispatch(userReducerActions.setUsers(response.items));\r\n    dispatch(userReducerActions.setTotalUsersCount(response.totalCount));\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<UsersReducerActionsType>, userId: number, apiMethod: (userId: number) => Promise<ApiResponseType>, actionCreator: (userId: number) => ReturnType<typeof userReducerActions.followSuccess> | ReturnType<typeof userReducerActions.unFollowSuccess>) => {\r\n    dispatch(userReducerActions.toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId)\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(userReducerActions.toggleFollowingProgress(false, userId));\r\n}\r\n\r\n// Thunk(санка) для  unfollow\r\nexport const unFollow = (userId: number): ThunkType => async (dispatch) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.unFollowUser.bind(usersAPI), userReducerActions.unFollowSuccess);\r\n}\r\n\r\n// Thunk(санка) для  follow\r\nexport const follow = (userId: number): ThunkType => async (dispatch) => {\r\n    await _followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), userReducerActions.followSuccess);\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\ntype UsersReducerActionsType = InferActionsTypes<typeof userReducerActions>\r\ntype ThunkType = BaseThunkType<UsersReducerActionsType | LoadingReducerActionsType>\r\n","import {createSelector} from \"reselect\";\r\nimport {AppRootStateType} from \"./store\";\r\n\r\nconst getUsersSelector = (state: AppRootStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) =>{\r\n    return users.filter(u => true)\r\n})\r\n\r\n\r\nexport const getPageSize = (state: AppRootStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppRootStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppRootStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppRootStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsersFilter = (state: AppRootStateType) => {\r\n    return state.usersPage.filter\r\n}\r\n\r\nexport  const getIsLoading = (state: AppRootStateType) => {\r\n    return state.loading.isLoading\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport style from './Usere.module.css'\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport {UserType} from '../../types/types';\r\nimport {UsersSearchForm} from './UsersSearchForm';\r\nimport {FilterType, follow, requestUsers, unFollow} from \"../../redux/usersReduсer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../redux/store\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsLoading,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from \"../../redux/usersSelectors\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport * as queryString from 'querystring'\r\nimport { DEVELOPERS_PATH } from '../Navbar/Navbar';\r\n\r\ntype PropsTypes = {}\r\ntype QueryParamsType = { term?: string; page?: string; friend?: string}\r\n\r\nexport const Users: React.FC<PropsTypes> = React.memo(() => {\r\n\r\n        const totalUsersCount = useSelector<AppRootStateType, number>(getTotalUsersCount)\r\n        const currentPage = useSelector<AppRootStateType, number>(getCurrentPage)\r\n        const pageSize = useSelector<AppRootStateType, number>(getPageSize)\r\n        const filter = useSelector<AppRootStateType, FilterType>(getUsersFilter)\r\n        const isLoading = useSelector<AppRootStateType, boolean>(getIsLoading)\r\n        const followingInProgress = useSelector<AppRootStateType, Array<number>>(getFollowingInProgress)\r\n        const users = useSelector<AppRootStateType, Array<UserType>>(getUsers)\r\n\r\n        const dispatch = useDispatch()\r\n        const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n\r\n\r\n        if (!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n\r\n        switch(parsed.friend) {\r\n            case \"null\":\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break;\r\n            case \"true\":\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break;\r\n            case \"false\":\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break;\r\n        }\r\n\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n\r\n        if (!!filter.term) query.term = filter.term\r\n        if (filter.friend !== null) query.friend = String(filter.friend)\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push({\r\n            pathname: DEVELOPERS_PATH,\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n\r\n        const onPageChanged = (pageNumber: number) => {\r\n            dispatch(requestUsers(pageNumber, pageSize, filter))\r\n        }\r\n\r\n        const onFilterChanged = (filter: FilterType) => {\r\n            dispatch(requestUsers(1, pageSize, filter))\r\n\r\n        }\r\n\r\n        const followHandler = (userId: number) => {\r\n            dispatch(follow(userId))\r\n        }\r\n\r\n        const unFollowHandler = (userId: number) => {\r\n            dispatch(unFollow(userId))\r\n\r\n        }\r\n\r\n        return (\r\n            <div className={style.usersWrapper}>\r\n                <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n                <Paginator currentPage={currentPage}\r\n                           onPageChanged={onPageChanged}\r\n                           totalItemsCount={totalUsersCount}\r\n                           pageSize={pageSize}\r\n                           portionSize={10}\r\n\r\n                />\r\n\r\n                {isLoading ? <Loading/> : users.map(user => <User user={user}\r\n                                                                  followingInProgress={followingInProgress}\r\n                                                                  follow={followHandler}\r\n                                                                  unFollow={unFollowHandler}\r\n                                                                  key={user.id}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n);\r\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const PROFILE_PATH = '/profile'\r\nexport const NEWS_PATH = '/news'\r\nexport const PHOTO_PATH = '/photo'\r\nexport const DIALOGS_PATH = '/dialogs'\r\nexport const MUSIC_PATH = '/music'\r\nexport const SETTINGS_PATH = '/settings'\r\nexport const DEVELOPERS_PATH = '/developers'\r\nexport const CHAT_PATH = '/chat'\r\n\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={PROFILE_PATH} activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={NEWS_PATH} activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={PHOTO_PATH} activeClassName={s.active}>Photos</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={DIALOGS_PATH} activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={MUSIC_PATH} activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={SETTINGS_PATH} activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={DEVELOPERS_PATH} activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {Users} from \"./Users\";\r\n\r\n\r\ntype UsersPagePropsType = {}\r\n\r\nexport const UsersPage: React.FC<UsersPagePropsType> = () => {\r\n\r\n    return (\r\n        <>\r\n            <Users/>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import {AppRootStateType} from \"./store\";\r\n\r\nexport const selectIsAuth = (state: AppRootStateType) => {\r\n    return state.auth.isAuth\r\n}\r\n\r\nexport const selectCurrentUserLogin = (state: AppRootStateType) => {\r\n    return state.auth.login\r\n}\r\n","import React, {useCallback} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReduсer\";\r\nimport {Avatar, Col, Layout, Menu, Row, Button} from \"antd\";\r\nimport {DEVELOPERS_PATH} from \"../Navbar/Navbar\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {selectCurrentUserLogin, selectIsAuth} from '../../redux/authSelectors';\r\nimport style from './Header.module.css'\r\n\r\nconst {Header} = Layout;\r\n\r\n\r\ntype PropsType = {}\r\n\r\nexport const AppHeader: React.FC<PropsType> = React.memo(() => {\r\n\r\n        const isAuth = useSelector(selectIsAuth)\r\n        const login = useSelector(selectCurrentUserLogin)\r\n        const dispatch = useDispatch()\r\n\r\n\r\n        const onClickHandler = useCallback(() => {\r\n            dispatch(logout())\r\n        }, [])\r\n\r\n\r\n        return (\r\n\r\n            <Header className=\"header\">\r\n                <div className=\"logo\"/>\r\n                <Row>\r\n                    <Col span={18}>\r\n                        <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                            <Menu.Item key=\"1\"><Link to={DEVELOPERS_PATH}>Developers</Link></Menu.Item>\r\n                        </Menu>\r\n                    </Col>\r\n\r\n                    {isAuth\r\n                        ? <>\r\n                            <Col span={1}>\r\n                                <Avatar style={{backgroundColor: '#87d068'}} icon={<UserOutlined/>}/>\r\n                            </Col>\r\n                            <Col span={2}>\r\n                                <span className={style.currentUserLogin}>{login}</span>\r\n                            </Col>\r\n                            <Col span={2}>\r\n                                <Button onClick={onClickHandler}>Log out</Button>\r\n                            </Col>\r\n                        </>\r\n                        : <Col span={6}> <Link to={'/login'}>Login</Link> </Col>}\r\n                </Row>\r\n            </Header>\r\n\r\n        )\r\n    }\r\n);\r\n\r\n","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype PropsType = {\r\n    message: string\r\n}\r\n\r\nconst Message: React.FC<PropsType>= (props) => {\r\n    return (\r\n        <div className={s.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Message;\r\n\r\n","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nconst DialogsItem: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default DialogsItem;\r\n","import {DialogType, MessageType} from \"../types/types\";\r\nimport {InferActionsTypes} from \"./store\";\r\n\r\n\r\nconst initialState = {\r\n        dialogs: [\r\n            {name: 'Maks', id: 1},\r\n            {name: 'Aleks', id: 2},\r\n            {name: 'Kna', id: 3},\r\n            {name: 'Andy', id: 4}\r\n        ] as Array<DialogType>,\r\n        messages: [\r\n            {message: 'Hello!', id: 1},\r\n            {message: 'How are you? What are you doing?!', id: 2},\r\n            {message: 'Come with me.', id: 3},\r\n        ] as Array<MessageType>,\r\n};\r\n\r\nexport type DialogReducerInitialStateType = typeof initialState\r\n\r\nexport const dialogsReducer = (state = initialState, action: DialogReducerActionsType): DialogReducerInitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/DIALOGS/ADD-MESSAGE': {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {message: action.newMessageBody, id: 4}],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport type DialogReducerActionsType = InferActionsTypes<typeof dialogsActions>\r\n\r\nexport const dialogsActions = {\r\n    addMessage: (newMessageBody: string) => ({type: 'SN/DIALOGS/ADD-MESSAGE', newMessageBody} as const)\r\n}\r\n","import React from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../../common/FormsControl/FormsControl\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {NewMessageFormDataType} from \"./Dialogs\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\ntype PropsType = {}\r\ntype NewMessageFormDataTypeKeys = Extract<keyof NewMessageFormDataType, string>\r\nconst AddMessageForm: React.FC<InjectedFormProps<NewMessageFormDataType, PropsType> & PropsType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                {createField<NewMessageFormDataTypeKeys>('Enter your message', 'newMessageBody', Input, [required, maxLength50])}\r\n\r\n            </div>\r\n            <div>\r\n                <button>Send message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport const AddMessageReduxForm = reduxForm<NewMessageFormDataType>({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n","import {AppRootStateType} from \"./store\";\r\n\r\nexport const selectDialogsPage = (state: AppRootStateType) => {\r\n    return state.dialogsPage\r\n}\r\n","import React from 'react';\r\nimport s from './Dialogs.module.css'\r\nimport Message from \"./Message/Message\";\r\nimport DialogsItem from \"./DialogItem/DialogItem\";\r\nimport {dialogsActions} from \"../../redux/dialogsReduсer\";\r\nimport {AddMessageReduxForm} from \"./AddMessageForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectDialogsPage} from \"../../redux/dialogsSelectors\";\r\n\r\ntype DialogsPropsType = {}\r\n\r\nexport const Dialogs: React.FC<DialogsPropsType> = React.memo(() => {\r\n\r\n    const dialogsPage = useSelector(selectDialogsPage)\r\n    const dispatch = useDispatch()\r\n\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogsItem name={d.name} key={d.id} id={d.id}/>);\r\n    let messagesElements = dialogsPage.messages.map(m => <Message message={m.message} key={m.id}/>);\r\n\r\n\r\n    let addNewMessage = (values: NewMessageFormDataType) => {\r\n        dispatch(dialogsActions.addMessage(values.newMessageBody));\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItem}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messagesItem}>\r\n                {messagesElements}\r\n            </div>\r\n            <AddMessageReduxForm onSubmit={addNewMessage}/>\r\n        </div>\r\n    )\r\n});\r\n\r\n\r\nexport type NewMessageFormDataType = {\r\n    newMessageBody: string\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {\r\n    CHAT_PATH,\r\n    DEVELOPERS_PATH,\r\n    DIALOGS_PATH,\r\n    MUSIC_PATH,\r\n    NEWS_PATH,\r\n    PHOTO_PATH,\r\n    PROFILE_PATH,\r\n    SETTINGS_PATH\r\n} from \"./components/Navbar/Navbar\";\r\nimport {Link, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {Login} from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReduсer\";\r\nimport Loading from \"./common/Loading/Loading\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nimport {AppRootStateType} from \"./redux/store\";\r\nimport {UsersPage} from \"./components/Users/UsersPage\";\r\nimport {Breadcrumb, Layout, Menu} from 'antd';\r\nimport {LaptopOutlined, UserOutlined, NotificationOutlined} from '@ant-design/icons';\r\nimport {AppHeader} from \"./components/Header/Header\";\r\nimport {Dialogs} from \"./components/Dialogs/Dialogs\";\r\n\r\nconst {SubMenu} = Menu;\r\nconst {Content, Sider} = Layout;\r\n\r\nconst PhotosContainer = React.lazy(() => import('./components/Photos/PhotosContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst ChatPage = React.lazy(() => import('./pages/Chat/ChatPage'))\r\n\r\n\r\ntype MapStateToPropsType = ReturnType<typeof mapStateToProps>\r\ntype MapDispatchToPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\nconst SuspendedDialogs = withSuspense(Dialogs)\r\nconst SuspendedPhotos = withSuspense(PhotosContainer)\r\nconst SuspendedChatPage = withSuspense(ChatPage)\r\n\r\n\r\nclass Main extends React.Component<MapStateToPropsType & MapDispatchToPropsType> {\r\n\r\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n        alert('Some error occurred');\r\n        console.log(e);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n\r\n            return (\r\n                <div className='appLoad'>\r\n                    <Loading/>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Layout>\r\n                <AppHeader/>\r\n                <Layout>\r\n                    <Sider width={200} className=\"site-layout-background\">\r\n                        <Menu\r\n                            mode=\"inline\"\r\n                            defaultSelectedKeys={['1']}\r\n                            defaultOpenKeys={['sub1']}\r\n                            style={{height: '100%', borderRight: 0}}\r\n                        >\r\n                            <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"My Profile\">\r\n                                <Menu.Item key=\"1\"><Link to={PROFILE_PATH}>Profile</Link></Menu.Item>\r\n                                <Menu.Item key=\"2\"> <Link to={DIALOGS_PATH}>Messages</Link></Menu.Item>\r\n                            </SubMenu>\r\n                            <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title='Developers'>\r\n                                <Menu.Item key=\"3\"><Link to={DEVELOPERS_PATH}>Developers</Link></Menu.Item>\r\n                            </SubMenu>\r\n                            <SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"subnav 3\">\r\n                                <Menu.Item key=\"4\"> <Link to={CHAT_PATH}>Chat</Link></Menu.Item>\r\n                                <Menu.Item key=\"10\">option10</Menu.Item>\r\n                                <Menu.Item key=\"11\">option11</Menu.Item>\r\n                                <Menu.Item key=\"12\">option12</Menu.Item>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Layout style={{padding: '0 24px 24px'}}>\r\n                        <Breadcrumb style={{margin: '16px 0'}}>\r\n                            <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>List</Breadcrumb.Item>\r\n                            <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <Content\r\n                            className=\"site-layout-background\"\r\n                            style={{\r\n                                padding: 24,\r\n                                margin: 0,\r\n                                minHeight: 280,\r\n                            }}\r\n                        >\r\n                            <Switch>\r\n                                <Route exact path={'/'} render={() => <Redirect to={'/profile/:userId?'}/>}/>\r\n                                <Route\r\n                                    path='/profile/:userId?'    // Вопросительный знак в пути означает что параметр опциональный. Его может не быть.\r\n                                    render={() => <ProfileContainer/>}/>\r\n                                <Route path={DIALOGS_PATH}\r\n                                       render={() => <SuspendedDialogs/>}/>\r\n                                <Route path={PHOTO_PATH}\r\n                                       render={() => <SuspendedPhotos/>}/>\r\n                                <Route path={NEWS_PATH} render={withSuspense(News)}/>\r\n                                <Route path={MUSIC_PATH} render={withSuspense(Music)}/>\r\n                                <Route path={SETTINGS_PATH} render={() => <Settings/>}/>\r\n                                <Route path={DEVELOPERS_PATH} render={() => <UsersPage/>}/>\r\n                                <Route path='/login' render={() => <Login/>}/>\r\n                                <Route path={CHAT_PATH} render={() => <SuspendedChatPage/>}/>\r\n                                <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                            </Switch>\r\n                        </Content>\r\n                    </Layout>\r\n                </Layout>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(Main);\r\n\r\n\r\n\r\n\r\n","const initialState = {};\r\n\r\ntype SideBarReducerInitialStateType = typeof initialState\r\n\r\nexport const sidebarReducer = (state = initialState, action: any): SideBarReducerInitialStateType => {\r\n\r\n    return state;\r\n}\r\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {dialogsReducer} from \"./dialogsReduсer\";\r\nimport {sidebarReducer} from \"./sidebarReduсer\";\r\nimport {usersReducer} from \"./usersReduсer\";\r\nimport photosReducer from \"./photosReduсer\";\r\nimport {loadingReducer} from \"./loadingReducer\";\r\nimport {authReducer} from \"./authReduсer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./appReduсer\";\r\nimport {chatReducer} from \"./chatReduсer\";\r\n\r\nlet rootReducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    photosPage: photosReducer,\r\n    loading: loadingReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n});\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducers>\r\n\r\n\r\nexport type InferActionsTypes<T> = T extends {[key: string]: (...args: any[]) => infer U} ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppRootStateType, {}, A>\r\n\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\n// window.store = store;\r\nexport default store;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport Main from \"./Main\";\r\nimport store from \"./redux/store\";\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nconst App: React.FC = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <Main/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App/>, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3w6c9\",\"dialogsItem\":\"Dialogs_dialogsItem__21G-K\",\"active\":\"Dialogs_active__OkM-I\",\"messagesItem\":\"Dialogs_messagesItem__3ZPn_\",\"newMessage\":\"Dialogs_newMessage__2PajG\",\"dialog\":\"Dialogs_dialog__2fbZU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__1ujd9\",\"error\":\"FormsControl_error__tprAW\",\"formSummeryControl\":\"FormsControl_formSummeryControl__3562J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1DhAJ\",\"pageNumber\":\"Paginator_pageNumber__3NMdO\",\"selectedPage\":\"Paginator_selectedPage__1vCXe\",\"prevNextButton\":\"Paginator_prevNextButton__c6Ca0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personalInfo\":\"PersonalInfo_personalInfo__3txPO\",\"contact\":\"PersonalInfo_contact__2Otb5\"};"],"sourceRoot":""}